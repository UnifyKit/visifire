<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Visifire Test Page</title>
        <script type="text/javascript" src="Visifire2.js"></script>
    <style type="text/css">
        #VisifireChart0
        {
            height: 450px;
            width: 500px;
        }
    </style>
    
</head>
    
<body style="background-color:Gray;">
&#178;
    <table style="width:100%;height:100%">
        <tr>
            <td style="text-align: center; vertical-align:middle">
                <div id="VisifireChart0">
                
                    <script type="text/javascript">

                        // Create Visifire object
                        var vChart = new Visifire2('ClientBin/SL.Visifire.Charts.xap', "MyChart", 500, 300);

                        //vChart1.setLogLevel(0); // If you want to disable logging.

                        var chartXml = '<vc:Chart xmlns:vc="clr-namespace:Visifire.Charts;assembly=SLVisifire.Charts" Width="500" Height="300" Theme="Theme1" AnimationEnabled="True" Bevel="True" BorderThickness="2" BorderBrush="Black" View3D="False">'
                           + '     <vc:Chart.Titles>'
                           + '         <vc:Title Enabled="False" Text="Athens 2004 Olympics" FontSize="14"/>'
                           + '     </vc:Chart.Titles>'

                           + '     <vc:Chart.ToolTips>'
                           + '         <vc:ToolTip FontSize="8" Background="AliceBlue"/>'
                           + '     </vc:Chart.ToolTips>'
                           
                           + '     <vc:Chart.AxesX>'
                           + '         <vc:Axis Title="Country"/>'
                           + '     </vc:Chart.AxesX>'

                           + '     <vc:Chart.AxesY>'
                           + '         <vc:Axis Title="Gold Medals Won"/>'
                           + '    </vc:Chart.AxesY>'
                            
                           + '     <vc:Chart.PlotArea>'
                           + '         <vc:PlotArea Background="LightGray"/>'
                           + '     </vc:Chart.PlotArea>'

                           + '     <vc:Chart.Series>'
                           + '         <vc:DataSeries RenderAs="Line" LabelEnabled="True">'
                           + '             <vc:DataSeries.DataPoints>'
                           + '                 <vc:DataPoint AxisXLabel="USA" YValue="35"/>'
                           + '                 <vc:DataPoint AxisXLabel="China" YValue="32"/>'
                           + '                 <vc:DataPoint AxisXLabel="Russia" YValue="27"/>'
                           + '                 <vc:DataPoint AxisXLabel="Australia" YValue="17"/>'
                           + '                 <vc:DataPoint AxisXLabel="Japan" YValue="16"/>'
                           + '             </vc:DataSeries.DataPoints>'
                           + '         </vc:DataSeries>'
                           + '     </vc:Chart.Series>'
                           + ' </vc:Chart>';

                        // Set Chart XML
                        vChart.setDataXml(chartXml);

                        /* 
                        On preload event, array of charts can be received as event arguments.  
                        Events can be can attached to chart elements. And required customization can be done here.
                        Default Chart element references won’t be available on preload event.
                        */
                        vChart.preLoad = function(args) {
                            var chart = args[0];   // Chart Reference.

                            // Attach an event handler with 1st DataSeries of the 1st chart on MouseLeftButtonUp event.
                            // DataPoint reference is received as event argument.
                            chart.Series[0].MouseLeftButtonUp = function(dataPoint) {
                                alert("AxisXLabel =" + dataPoint.AxisXLabel + " YValue = " + dataPoint.YValue);
                            };

                            // Attach Events to a Title. Title reference is received as event argument.
                            chart.Titles[0].MouseLeftButtonUp = function(title) {
                                alert(title.Text);
                            }
                        }
                        
                        /* 
                        On loaded event, array of charts can be received as event arguments.  
                        Events can be can attached to chart elements. And do require customization.
                        Default chart elements can be accessed here.
                        */
                        vChart.loaded = function(args) {
                            var chart = args[0];   // Chart Reference.

                            // Create a LinearGradientBrush color brush
                            var color = '<LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0" xmlns="http://schemas.microsoft.com/client/2007" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml" >'
				                + '	<GradientStop Color="Red"/>'
				                + '	<GradientStop Color="White" Offset="0.567"/>'
				                + '	<GradientStop Color="#dbdbdb" Offset="1"/>'
				                + '</LinearGradientBrush>';
                        };

                        // Render chart
                        vChart.render("VisifireChart0");
                        
                    </script>
                    
                </div>
            </td>
        </tr>
    </table>

</body>

</html>
